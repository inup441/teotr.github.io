<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: greasemonkey | teotr.github.io]]></title>
  <link href="http://teotr.github.io/blog/categories/greasemonkey/atom.xml" rel="self"/>
  <link href="http://teotr.github.io/"/>
  <updated>2013-04-16T18:57:33+09:00</updated>
  <id>http://teotr.github.io/</id>
  <author>
    <name><![CDATA[teotr]]></name>
    <email><![CDATA[mail@teotr.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[SELECT の都道府県を自動的に選択する]]></title>
    <link href="http://teotr.github.io/blog/2011/04/27/select-pref/"/>
    <updated>2011-04-27T10:04:00+09:00</updated>
    <id>http://teotr.github.io/blog/2011/04/27/select-pref</id>
    <content type="html"><![CDATA[<p>selectから大阪を選ぶのは、中途半端な位置にあるのでちょっとめんどくさい。
なので書いてみた。</p>

<p><div><script src='https://gist.github.com/5394731.js?file=select-pref.user.js'></script>
<noscript><pre><code>// ==UserScript==
// @name           select-pref
// @namespace      http://twitter.com/teotr
// @include        http://*
// @include        https://*
// ==/UserScript==
//
(function(){
  var d, option, options, select, selects, _i, _j, _len, _len2;
  d = document;
  selects = d.getElementsByTagName('select');
  l: for (_i = 0, _len = selects.length; _i &lt; _len; _i++) {
    select = selects[_i];
    if (select.hasChildNodes()) {
      options = select.getElementsByTagName('option');
      for (_j = 0, _len2 = options.length; _j &lt; _len2; _j++) {
        option = options[_j];
        if (/大阪/.test(option.innerHTML)) {
          option.selected = true;
          select.value = option.value;
          break l;
        }
      }
    }
  }
})();</code></pre></noscript></div>
</p>

<p>ちなみに元のコードはcoffeescriptで書いた。
ラベルをつけるとコンパイルできなかったのではずしてある。</p>

<p><div><script src='https://gist.github.com/5394731.js?file=select-pref.user.coffee'></script>
<noscript><pre><code>(-&gt;
  d = document
  selects = d.getElementsByTagName 'select'

  for select in selects
    if select.hasChildNodes()
      options = select.getElementsByTagName 'option'
        for option in options
          if /大阪/.test option.innerHTML
            option.selected = true
            select.value = option.value
            break
  return
)()</code></pre></noscript></div>
</p>
]]></content>
  </entry>
  
</feed>
